<!DOCTYPE html>
<html lang="en" class="min-h-full bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Tazo | Livestreamer</title>
    <meta name="description" content="Tazo – live on Kick & Twitch" />

    <!-- Open Graph / Twitter preview -->
    <meta property="og:title" content="Tazo | Livestreamer" />
    <meta property="og:description" content="IRL & gaming streams on Kick and Twitch" />
    <meta property="og:image" content="https://tazo.wtf/profile.jpg" />
    <meta name="twitter:card" content="summary_large_image" />

    <link rel="icon" href="/profile.jpg" />

    <!-- Tailwind (JIT CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'system-ui', 'sans-serif'],
              display: ['Bebas Neue', 'sans-serif'],
            },
            colors: {
              accent: '#00ffe0',
            },
            animation: {
              fade: 'fade .5s ease-out both',
            },
            keyframes: {
              fade: {
                '0%': {
                  opacity: 0,
                  transform: 'translateY(.75rem)',
                },
                '100%': {
                  opacity: 1,
                  transform: 'translateY(0)',
                },
              },
            },
          },
        },
      };
    </script>

    <!-- Google Fonts -->
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Bebas+Neue&display=swap"
      rel="stylesheet"
    />
  </head>

  <body class="min-h-full text-white font-sans">
    <!-- Hero ------------------------------------------------------------>
    <section class="relative h-72 overflow-hidden">
      <div
        class="absolute inset-0 bg-gradient-to-br from-[#00ffe0] via-purple-500 to-[#00ffe0] bg-[length:200%_200%]"
      ></div>
      <div class="absolute inset-0 bg-black/60"></div>

      <div
        class="relative z-10 flex flex-col items-center justify-center h-full animate-fade"
      >
        <img
          src="/profile.jpg"
          alt="Tazo"
          class="w-28 h-28 rounded-full shadow-md object-cover"
        />
        <h1 class="mt-4 text-5xl font-display uppercase drop-shadow-md">Tazo</h1>
        <p class="text-zinc-300">Livestreamer from Australia</p>
      </div>
    </section>

    <!-- Stream embed ---------------------------------------------------->
    <div
      id="stream"
      class="max-w-screen-md mx-auto mt-6 mb-6 px-4"
    ></div>

    <!-- Links ----------------------------------------------------------->
    <div class="max-w-screen-md mx-auto px-4 animate-fade">
      <div id="links" class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div>
    </div>

    <!-- Main script ----------------------------------------------------->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const kickUser = 'tazo';
        const twitchUser = 'tazo';

        const links = [
          ['Kick',   `https://kick.com/${kickUser}`,   'kick',   'from-[#53fc18] to-[#43d314]', 'kick'],
          ['Twitch', `https://twitch.tv/${twitchUser}`, 'twitch', 'from-[#9146FF] to-[#772ce8]', 'twitch'],
          ['Tip / TTS','https://tip.tazo.wtf',          'paypal','from-[#003087] to-[#00246b]'],
          ['Ko-fi',  'https://ko-fi.com/tazo',          'kofi',  'from-[#29abe0] to-[#219ac9]'],
          ['Discord','https://discord.tazo.wtf',        'discord','from-[#5865F2] to-[#4752c4]'],
          ['YouTube','https://youtube.com/@HyperTazo',  'youtube','from-[#FF0000] to-[#cc0000]'],
          ['Instagram','https://instagram.com/HyperTazo','instagram','from-pink-500 via-red-500 to-yellow-500'],
          ['TikTok','https://www.tiktok.com/@HyperTazo','tiktok','bg-black hover:bg-zinc-800'],
          ['Twitter','https://x.com/HyperTazo',         'x',     'bg-black hover:bg-zinc-800']
        ];

        const linksEl = document.getElementById('links');
        const streamEl = document.getElementById('stream');
        let kickLive = false,
          twitchLive = false;

        /* Render links immediately */
        links.forEach(([name, href, icon, cls, id]) => {
          const a = document.createElement('a');
          a.href = href;
          a.target = '_blank';
          a.rel = 'noopener noreferrer';
          a.className = `flex items-center gap-2 justify-center py-3 px-5 rounded-xl text-white font-semibold bg-gradient-to-r ${cls} transition hover:scale-105`;
          a.innerHTML = `
            <img src="https://cdn.simpleicons.org/${icon}/fff" class="w-5 h-5" loading="lazy" alt="" />
            <span id="${icon}-lbl">${name}</span>
          `;
          linksEl.appendChild(a);
        });

        /* Kick status */
        fetch(`https://kick.com/api/v2/channels/${kickUser}`)
          .then((r) => r.json())
          .then((d) => {
            if (d.livestream) {
              kickLive = true;
              markLive('kick');
              embedKick();
            }
          })
          .finally(checkTwitch);

        /* Twitch status */
        function checkTwitch() {
          fetch(`https://api.ivr.fi/v2/twitch/user/${twitchUser}`)
            .then((r) => r.json())
            .then((d) => {
              if (d.stream) {
                twitchLive = true;
                markLive('twitch');
                if (!kickLive) embedTwitch();
              }
            });
        }

        /* Helpers ------------------------------------------------------*/
        function markLive(id) {
          const lbl = document.getElementById(`${id}-lbl`);
          if (lbl) lbl.innerHTML += ' <span class="text-red-500 animate-pulse">●</span>';
        }

        function setIframe(src) {
          const f = document.createElement('iframe');
          f.src = src;
          f.className = 'w-full aspect-video rounded-xl shadow-lg';
          f.loading = 'lazy';
          f.allowFullscreen = true;
          streamEl.appendChild(f);
        }
        function embedKick() {
          setIframe(`https://kick.com/embed/${kickUser}?muted=true&chatEnabled=false`);
        }
        function embedTwitch() {
          setIframe(
            `https://player.twitch.tv/?channel=${twitchUser}&parent=${location.hostname}&muted=true&chat=false`
          );
        }
      });
    </script>

    <div class="h-12"></div>
  </body>
</html>
